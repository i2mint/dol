

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>dol.tools &mdash; dol 0.3.26 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5dd7c21c"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/toggleprompt.js?v=d7ede5d2"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="dol.trans" href="trans.html" />
    <link rel="prev" title="dol.tests.utils_for_tests" href="tests/utils_for_tests.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            dol
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../dol.html">dol</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendable.html">dol.appendable</a></li>
<li class="toctree-l1"><a class="reference internal" href="base.html">dol.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="caching.html">dol.caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="dig.html">dol.dig</a></li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">dol.errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="explicit.html">dol.explicit</a></li>
<li class="toctree-l1"><a class="reference internal" href="filesys.html">dol.filesys</a></li>
<li class="toctree-l1"><a class="reference internal" href="kv_codecs.html">dol.kv_codecs</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">dol.misc</a></li>
<li class="toctree-l1"><a class="reference internal" href="mixins.html">dol.mixins</a></li>
<li class="toctree-l1"><a class="reference internal" href="naming.html">dol.naming</a></li>
<li class="toctree-l1"><a class="reference internal" href="paths.html">dol.paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes.html">dol.recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap.html">dol.scrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/new_store_wrap.html">dol.scrap.new_store_wrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/store_factories.html">dol.scrap.store_factories</a></li>
<li class="toctree-l1"><a class="reference internal" href="signatures.html">dol.signatures</a></li>
<li class="toctree-l1"><a class="reference internal" href="sources.html">dol.sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/base_test.html">dol.tests.base_test</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/pickability_test.html">dol.tests.pickability_test</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/scrap.html">dol.tests.scrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_appendable.html">dol.tests.test_appendable</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_caching.html">dol.tests.test_caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_dol_tools.html">dol.tests.test_dol_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_edge_cases.html">dol.tests.test_edge_cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_fanout_stores.html">dol.tests.test_fanout_stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_filesys.html">dol.tests.test_filesys</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_kv_codecs.html">dol.tests.test_kv_codecs</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_paths.html">dol.tests.test_paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_trans.html">dol.tests.test_trans</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/utils_for_tests.html">dol.tests.utils_for_tests</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">dol.tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dol.tools.Forest"><code class="docutils literal notranslate"><span class="pre">Forest</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#dol.tools.ask_user_for_value_when_missing"><code class="docutils literal notranslate"><span class="pre">ask_user_for_value_when_missing()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#dol.tools.confirm_overwrite"><code class="docutils literal notranslate"><span class="pre">confirm_overwrite()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#dol.tools.convert_to_numerical_if_possible"><code class="docutils literal notranslate"><span class="pre">convert_to_numerical_if_possible()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#dol.tools.iSliceStore"><code class="docutils literal notranslate"><span class="pre">iSliceStore</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#dol.tools.store_aggregate"><code class="docutils literal notranslate"><span class="pre">store_aggregate()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="trans.html">dol.trans</a></li>
<li class="toctree-l1"><a class="reference internal" href="util.html">dol.util</a></li>
<li class="toctree-l1"><a class="reference internal" href="zipfiledol.html">dol.zipfiledol</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">dol</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">dol.tools</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/module_docs/dol/tools.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-dol.tools">
<span id="dol-tools"></span><h1>dol.tools<a class="headerlink" href="#module-dol.tools" title="Link to this heading">ÔÉÅ</a></h1>
<p>Various tools to add functionality to stores</p>
<dl class="py class">
<dt class="sig sig-object py" id="dol.tools.Forest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dol.tools.</span></span><span class="sig-name descname"><span class="pre">Forest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">src:</span> <span class="pre">~typing.Any,</span> <span class="pre">*,</span> <span class="pre">get_node_keys:</span> <span class="pre">~typing.Callable[[~typing.Any],</span> <span class="pre">~typing.Iterable[~typing.Any]],</span> <span class="pre">get_src_item:</span> <span class="pre">~typing.Callable[[~typing.Any,</span> <span class="pre">~typing.Any],</span> <span class="pre">bool],</span> <span class="pre">is_leaf:</span> <span class="pre">~typing.Callable[[~typing.Any,</span> <span class="pre">~typing.Any],</span> <span class="pre">bool],</span> <span class="pre">forest_type:</span> <span class="pre">type</span> <span class="pre">|</span> <span class="pre">~typing.Callable</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'list'&gt;,</span> <span class="pre">leaf_trans:</span> <span class="pre">~typing.Callable[[~typing.Any],</span> <span class="pre">~typing.Any]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">return_input&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/dol/tools.html#Forest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dol.tools.Forest" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Provides a key-value forest interface to objects.</p>
<p>A <a class="reference external" href="treehttps://en.wikipedia.org/wiki/Tree_(data_structure)">treehttps://en.wikipedia.org/wiki/Tree_(data_structure)</a>
is a nested data structure. A tree has a root, which is the parent of children,
who themselves can be parents of further subtrees, or not; in which case they‚Äôre
called leafs.
For more information, see
<a class="reference external" href="wikipediaontreeshttps://en.wikipedia.org/wiki/Tree_(data_structure)">wikipediaontreeshttps://en.wikipedia.org/wiki/Tree_(data_structure)</a></p>
<p>Here we allow one to construct a tree view of any python object, using a
key-value interface to the parent-child relationship.</p>
<p>A forest is a collection of trees.</p>
<p>Arguably, a dictionnary might not be the most impactful example to show here, since
it is naturally a tree (therefore a forest), and naturally key-valued: But it has
the advantage of being easy to demo with.
Where Forest would really be useful is when you (1) want to give a consistent
key-value interface to the many various forms that trees and forest objects come
in, or even more so when (2) your object‚Äôs tree/forest structure is not obvious,
so you need to ‚Äúextract‚Äù that view from it (plus give it a consistent key-value
interface, so that you can build an ecosystem of tools around it.</p>
<p>Anyway, here‚Äôs our dictionary example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;apple&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;fruit&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s1">&#39;types&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>            <span class="s1">&#39;granny&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;green&#39;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="s1">&#39;fuji&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">}</span>
<span class="gp">... </span>        <span class="p">},</span>
<span class="gp">... </span>        <span class="s1">&#39;tasty&#39;</span><span class="p">:</span> <span class="kc">True</span>
<span class="gp">... </span>    <span class="p">},</span>
<span class="gp">... </span>    <span class="s1">&#39;acrobat&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;person&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s1">&#39;nationality&#39;</span><span class="p">:</span> <span class="s1">&#39;french&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s1">&#39;brave&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">},</span>
<span class="gp">... </span>    <span class="s1">&#39;ball&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;toy&#39;</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">}</span>
</pre></div>
</div>
<p>Must of the time, you‚Äôll want to curry <code class="docutils literal notranslate"><span class="pre">Forest</span></code> to make an <code class="docutils literal notranslate"><span class="pre">object_to_forest</span></code>
constructor for a given class of objects. In the case of dictionaries as the one
above, this might look like this:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">functools</span><span class="w"> </span><span class="kn">import</span> <span class="n">partial</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_forest</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">Forest</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">is_leaf</span><span class="o">=</span><span class="k">lambda</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">get_node_keys</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="p">[</span><span class="n">vv</span> <span class="k">for</span> <span class="n">vv</span> <span class="ow">in</span> <span class="nb">iter</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">vv</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)],</span>
<span class="gp">... </span>    <span class="n">get_src_item</span><span class="o">=</span><span class="k">lambda</span> <span class="n">src</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="n">src</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">a_forest</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">[&#39;apple&#39;, &#39;acrobat&#39;]</span>
</pre></div>
</div>
<p>Note that we specified in <code class="docutils literal notranslate"><span class="pre">get_node_keys``that</span> <span class="pre">we</span> <span class="pre">didn't</span> <span class="pre">want</span> <span class="pre">to</span> <span class="pre">include</span> <span class="pre">items</span>
<span class="pre">whose</span> <span class="pre">keys</span> <span class="pre">start</span> <span class="pre">with</span> <span class="pre">``b</span></code> as valid children. Therefore we don‚Äôt have our
<code class="docutils literal notranslate"><span class="pre">'ball'</span></code> in the list above.</p>
<p>Note below which nodes are themselves <code class="docutils literal notranslate"><span class="pre">Forests</span></code>, and whic are leafs:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ff</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">ff</span><span class="p">,</span> <span class="n">Forest</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ff</span><span class="p">)</span>
<span class="go">[&#39;kind&#39;, &#39;types&#39;, &#39;tasty&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ff</span><span class="p">[</span><span class="s1">&#39;kind&#39;</span><span class="p">]</span>
<span class="go">&#39;fruit&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fff</span> <span class="o">=</span> <span class="n">ff</span><span class="p">[</span><span class="s1">&#39;types&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">fff</span><span class="p">,</span> <span class="n">Forest</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">fff</span><span class="p">)</span>
<span class="go">[&#39;granny&#39;, &#39;fuji&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dol.tools.ask_user_for_value_when_missing">
<span class="sig-prename descclassname"><span class="pre">dol.tools.</span></span><span class="sig-name descname"><span class="pre">ask_user_for_value_when_missing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">store</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_preprocessor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_missing_msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'No</span> <span class="pre">such</span> <span class="pre">key</span> <span class="pre">was</span> <span class="pre">found.</span> <span class="pre">You</span> <span class="pre">can</span> <span class="pre">enter</span> <span class="pre">a</span> <span class="pre">value</span> <span class="pre">for</span> <span class="pre">it</span> <span class="pre">here</span> <span class="pre">or</span> <span class="pre">simply</span> <span class="pre">hit</span> <span class="pre">enter</span> <span class="pre">to</span> <span class="pre">leave</span> <span class="pre">the</span> <span class="pre">slot</span> <span class="pre">empty'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">__module__</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">__name__</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">__qualname__</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">__doc__</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">__annotations__</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">__defaults__</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">__kwdefaults__</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/dol/tools.html#ask_user_for_value_when_missing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dol.tools.ask_user_for_value_when_missing" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Wrap a store so if a value is missing when the user asks for it, they will be
given a chance to enter the value they want to write.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>store</strong> ‚Äì The store (instance or class) to wrap</p></li>
<li><p><strong>value_preprocessor</strong> ‚Äì Function to transform the user value before trying to
write it (bearing in mind all user specified values are strings)</p></li>
<li><p><strong>on_missing_msg</strong> ‚Äì String that will be displayed to prompt the user to enter a
value</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dol.tools.confirm_overwrite">
<span class="sig-prename descclassname"><span class="pre">dol.tools.</span></span><span class="sig-name descname"><span class="pre">confirm_overwrite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mapping</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_input_msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'The</span> <span class="pre">key</span> <span class="pre">{k}</span> <span class="pre">already</span> <span class="pre">exists</span> <span class="pre">and</span> <span class="pre">has</span> <span class="pre">value</span> <span class="pre">{existing_v}.</span> <span class="pre">If</span> <span class="pre">you</span> <span class="pre">want</span> <span class="pre">to</span> <span class="pre">overwrite</span> <span class="pre">it</span> <span class="pre">with</span> <span class="pre">{v},</span> <span class="pre">confirm</span> <span class="pre">by</span> <span class="pre">typing</span> <span class="pre">{v}</span> <span class="pre">here:</span> <span class="pre">'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/dol/tools.html#confirm_overwrite"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dol.tools.confirm_overwrite" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>A preset function you can use in wrap_kvs to ask the user to confirm if
they‚Äôre writing a value in a key that already has a different value under it.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dol.trans</span><span class="w"> </span><span class="kn">import</span> <span class="n">wrap_kvs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;banana&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">wrap_kvs</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">preset</span><span class="o">=</span><span class="n">confirm_overwrite</span><span class="p">)</span>
</pre></div>
</div>
<p>Overwriting <code class="docutils literal notranslate"><span class="pre">a</span></code> with the same value it already has is fine (not really an
over-write):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;apple&#39;</span>
</pre></div>
</div>
<p>Creating new values is also fine:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;coconut&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">d</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;banana&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="s1">&#39;coconut&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>But if we tried to do <code class="docutils literal notranslate"><span class="pre">d['a']</span> <span class="pre">=</span> <span class="pre">'alligator'</span></code>, we‚Äôll get a user input request:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">key</span> <span class="n">a</span> <span class="n">already</span> <span class="n">exists</span> <span class="ow">and</span> <span class="n">has</span> <span class="n">value</span> <span class="n">apple</span><span class="o">.</span>
<span class="n">If</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">overwrite</span> <span class="n">it</span> <span class="k">with</span> <span class="n">alligator</span><span class="p">,</span> <span class="n">confirm</span> <span class="n">by</span> <span class="n">typing</span> <span class="n">alligator</span> <span class="n">here</span><span class="p">:</span>
</pre></div>
</div>
<p>And we‚Äôll have to type <cite>alligator</cite> and press RETURN to make the write go through.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dol.tools.convert_to_numerical_if_possible">
<span class="sig-prename descclassname"><span class="pre">dol.tools.</span></span><span class="sig-name descname"><span class="pre">convert_to_numerical_if_possible</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/dol/tools.html#convert_to_numerical_if_possible"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dol.tools.convert_to_numerical_if_possible" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>To be used with <code class="docutils literal notranslate"><span class="pre">ask_user_for_value_when_missing</span></code> <code class="docutils literal notranslate"><span class="pre">value_preprocessor</span></code> arg</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">convert_to_numerical_if_possible</span><span class="p">(</span><span class="s2">&quot;123&quot;</span><span class="p">)</span>
<span class="go">123</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">convert_to_numerical_if_possible</span><span class="p">(</span><span class="s2">&quot;123.4&quot;</span><span class="p">)</span>
<span class="go">123.4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">convert_to_numerical_if_possible</span><span class="p">(</span><span class="s2">&quot;one&quot;</span><span class="p">)</span>
<span class="go">&#39;one&#39;</span>
</pre></div>
</div>
<p>Border case: The strings ‚Äúinfinity‚Äù and ‚Äúinf‚Äù actually convert to a valid float.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">convert_to_numerical_if_possible</span><span class="p">(</span><span class="s2">&quot;infinity&quot;</span><span class="p">)</span>
<span class="go">inf</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dol.tools.iSliceStore">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dol.tools.</span></span><span class="sig-name descname"><span class="pre">iSliceStore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">store</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/dol/tools.html#iSliceStore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dol.tools.iSliceStore" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Wraps a store to make a reader that acts as if the store was a list
(with integer keys, and that can be sliced).
I say ‚Äúlist‚Äù, but it should be noted that the behavior is more that of range,
that outputs an element of the list
when keying with an integer, but returns an iterable object (a range) if sliced.</p>
<p>Here, a map object is returned when the sliceable store is sliced.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">:</span> <span class="s1">&#39;world&#39;</span><span class="p">,</span> <span class="s1">&#39;alice&#39;</span><span class="p">:</span> <span class="s1">&#39;bob&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sliceable_s</span> <span class="o">=</span> <span class="n">iSliceStore</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p>The read-only functionalities of the underlying mapping are still available:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">sliceable_s</span><span class="p">)</span>
<span class="go">[&#39;foo&#39;, &#39;hello&#39;, &#39;alice&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;hello&#39;</span> <span class="ow">in</span> <span class="n">sliceable_s</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sliceable_s</span><span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">]</span>
<span class="go">&#39;world&#39;</span>
</pre></div>
</div>
<p>But now you can get slices as well:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">sliceable_s</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
<span class="go">[&#39;bar&#39;, &#39;world&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">sliceable_s</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:])</span>
<span class="go">[&#39;world&#39;, &#39;bob&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">sliceable_s</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="go">[&#39;bar&#39;, &#39;world&#39;]</span>
</pre></div>
</div>
<p>Now, you can‚Äôt do <cite>sliceable_s[1]</cite> because <cite>1</cite> isn‚Äôt a valid key.
But if you really wanted ‚Äúitem number 1‚Äù, you can do:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">sliceable_s</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
<span class="go">&#39;world&#39;</span>
</pre></div>
</div>
<p>Note that <cite>sliceable_s[i:j]</cite> is an iterable that needs to be consumed
(here, with list) to actually get the data. If you want your data in a different
format, you can use <cite>dol.trans.wrap_kvs</cite> for that.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dol</span><span class="w"> </span><span class="kn">import</span> <span class="n">wrap_kvs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ss</span> <span class="o">=</span> <span class="n">wrap_kvs</span><span class="p">(</span><span class="n">sliceable_s</span><span class="p">,</span> <span class="n">obj_of_data</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ss</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="go">[&#39;world&#39;, &#39;bob&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sss</span> <span class="o">=</span> <span class="n">wrap_kvs</span><span class="p">(</span><span class="n">sliceable_s</span><span class="p">,</span> <span class="n">obj_of_data</span><span class="o">=</span><span class="nb">sorted</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sss</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="go">[&#39;bob&#39;, &#39;world&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dol.tools.store_aggregate">
<span class="sig-prename descclassname"><span class="pre">dol.tools.</span></span><span class="sig-name descname"><span class="pre">store_aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">content_store:</span> <span class="pre">~typing.Mapping</span> <span class="pre">|</span> <span class="pre">str,</span> <span class="pre">*,</span> <span class="pre">kv_to_item:</span> <span class="pre">~typing.Callable[[KT,</span> <span class="pre">VT],</span> <span class="pre">~dol.tools.Item]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">markdown_section&gt;,</span> <span class="pre">aggregator:</span> <span class="pre">~typing.Callable[[~typing.Iterable[~dol.tools.Item]],</span> <span class="pre">~dol.tools.Aggregate]</span> <span class="pre">=</span> <span class="pre">&lt;built-in</span> <span class="pre">method</span> <span class="pre">join</span> <span class="pre">of</span> <span class="pre">str</span> <span class="pre">object&gt;,</span> <span class="pre">egress:</span> <span class="pre">~typing.Callable[[~dol.tools.Aggregate],</span> <span class="pre">~typing.Any]</span> <span class="pre">|</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">identity&gt;,</span> <span class="pre">key_filter:</span> <span class="pre">~typing.Callable[[KT],</span> <span class="pre">bool]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">value_filter:</span> <span class="pre">~typing.Callable[[VT],</span> <span class="pre">bool]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">kv_filter:</span> <span class="pre">~typing.Callable[[~typing.Tuple],</span> <span class="pre">bool]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">local_store_factory:</span> <span class="pre">~typing.Callable[[str],</span> <span class="pre">~typing.Mapping]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'dol.filesys.Files'&gt;</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../../_modules/dol/tools.html#store_aggregate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dol.tools.store_aggregate" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create an aggregate object of a store‚Äôs (a Mapping of strings) content</p>
<p>The function is written to be able to aggregate the keys and/or values of a store,
no matter their type, and concatenate them into an object of arbitrary type.
That said, the defaults are setup assuming the store‚Äôs keys and values are text,
and you want to concatenate them into a single string.
This is useful, for example, when you have several files in a folder,
and you want to create a single text/markdown file with all the content therein.</p>
<p>This function filters content from a given content store, converts the key-value
pairs to items (usually text), and (if you specify a filepath as the <cite>egress</cite>)
saves the aggregate (text) before returning it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content_store</strong> (<em>Union</em><em>[</em><em>Mapping</em><em>[</em><em>KT</em><em>, </em><em>VT</em><em>]</em><em>, </em><em>str</em><em>]</em>) ‚Äì Path to the folder or dol store to read from.</p></li>
<li><p><strong>kv_to_item</strong> (<em>Callable</em><em>[</em><em>[</em><em>KT</em><em>, </em><em>VT</em><em>]</em><em>, </em><em>Item</em><em>]</em>) ‚Äì Function to convert key-value pairs to an Item (usually a string).</p></li>
<li><p><strong>aggregator</strong> (<em>Callable</em><em>[</em><em>[</em><em>Iterable</em><em>[</em><em>Item</em><em>]</em><em>]</em><em>, </em><em>Aggregate</em><em>]</em>) ‚Äì The function that will aggregate the items that <cite>kv_to_item</cite> produces.
Defaults to ‚Äònn‚Äô.join.</p></li>
<li><p><strong>egress</strong> (<em>Union</em><em>[</em><em>Callable</em><em>[</em><em>[</em><em>Aggregate</em><em>]</em><em>, </em><em>Any</em><em>]</em><em>, </em><em>str</em><em>]</em>) ‚Äì The function that will be called on the aggregate before returning it.
Defaults to identity.
Note that if you provide a string, the function will save the aggregate
text to a file, assuming it is indeed text.</p></li>
<li><p><strong>key_filter</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>[</em><em>[</em><em>KT</em><em>]</em><em>, </em><em>bool</em><em>]</em><em>]</em>) ‚Äì Optional filter for keys. Defaults to None (no filtering).</p></li>
<li><p><strong>value_filter</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>[</em><em>[</em><em>VT</em><em>]</em><em>, </em><em>bool</em><em>]</em><em>]</em>) ‚Äì Optional filter for values. Defaults to None (no filtering).</p></li>
<li><p><strong>kv_filter</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>[</em><em>[</em><em>Tuple</em><em>[</em><em>KT</em><em>, </em><em>VT</em><em>]</em><em>]</em><em>, </em><em>bool</em><em>]</em><em>]</em>) ‚Äì Optional filter for key-value pairs. Defaults to None (no filtering).</p></li>
<li><p><strong>local_store_factory</strong> (<em>Callable</em><em>[</em><em>[</em><em>str</em><em>]</em><em>, </em><em>Mapping</em><em>[</em><em>KT</em><em>, </em><em>VT</em><em>]</em><em>]</em>) ‚Äì Factory function for the local store,
used only if <cite>content_store</cite> is an existing folder path. Defaults to Latin1TextFiles.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Usually the aggregate object, which is usually the concatenated text.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
<p>Normally, you‚Äôd specify your content store by specifying a root folder
(the function will create a Mapping-view of the contents of the folder for you),
or make a content store yourself (a Mapping object providing the key-value pairs).</p>
<p>To provide a small example, we‚Äôll take a dict as our content store:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">content_store</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;file1.py&#39;</span><span class="p">:</span> <span class="s1">&#39;&quot;&quot;&quot;Module docstring.&quot;&quot;&quot;&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;file2.py&#39;</span><span class="p">:</span> <span class="s1">&#39;def foo(): pass&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;file3.py&#39;</span><span class="p">:</span> <span class="s1">&#39;&quot;&quot;&quot;Another docstring.&quot;&quot;&quot;&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;file4.md&#39;</span><span class="p">:</span> <span class="s1">&#39;Markdown content here.&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;file5.py&#39;</span><span class="p">:</span> <span class="s1">&#39;&quot;&quot;&quot;If I mention file5.py, I will be excluded.&quot;&quot;&quot;&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
</pre></div>
</div>
<p>Define the filters:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key_filter</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">k</span><span class="p">:</span> <span class="n">k</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.py&#39;</span><span class="p">)</span>  <span class="c1"># Only include keys that end with &#39;.py&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value_filter</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;&quot;&quot;&quot;&#39;</span>
<span class="gp">... </span><span class="p">)</span>  <span class="c1"># Only include values that start with &quot;&quot;&quot; (marking a module docstring)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kv_filter</span> <span class="o">=</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="k">lambda</span> <span class="n">kv</span><span class="p">:</span> <span class="n">kv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>  <span class="c1"># Exclude key-value pairs where the value mentions the key</span>
</pre></div>
</div>
<p>Call the function with the provided filters and settings</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">store_aggregate</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">content_store</span><span class="o">=</span><span class="n">content_store</span><span class="p">,</span>  <span class="c1"># The content_store dict</span>
<span class="gp">... </span>    <span class="n">kv_to_item</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> -&gt; </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">,</span>  <span class="c1"># Format key-value pairs as &quot;key -&gt; value&quot;</span>
<span class="gp">... </span>    <span class="n">key_filter</span><span class="o">=</span><span class="n">key_filter</span><span class="p">,</span>  <span class="c1"># Key filter: Include only .py files</span>
<span class="gp">... </span>    <span class="n">value_filter</span><span class="o">=</span><span class="n">value_filter</span><span class="p">,</span>  <span class="c1"># Value filter: Include only values starting with &quot;&quot;&quot;</span>
<span class="gp">... </span>    <span class="n">kv_filter</span><span class="o">=</span><span class="n">kv_filter</span><span class="p">,</span>  <span class="c1"># KV filter: Exclude if value contains the key</span>
<span class="gp">... </span>    <span class="n">aggregator</span><span class="o">=</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">egress</span><span class="o">=</span><span class="s1">&#39;~/test.md&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>
<span class="go">&#39;file1.py -&gt; &quot;&quot;&quot;Module docstring.&quot;&quot;&quot;, file3.py -&gt; &quot;&quot;&quot;Another docstring.&quot;&quot;&quot;&#39;</span>
</pre></div>
</div>
<p>Here, you got the string as the result. If you want to save it to a file,
you can provide the save_filepath argument, and it will save the text to the file,
and return the save_filepath to you (which )</p>
<p>Recipe: You can do a lot with the <cite>kv_to_text</cite> argument. For example, if your
content store doesn‚Äôt have string keys or values, you can always extract whatever
information you need from them to produce the text that will represent that item.</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tests/utils_for_tests.html" class="btn btn-neutral float-left" title="dol.tests.utils_for_tests" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="trans.html" class="btn btn-neutral float-right" title="dol.trans" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright NO COPYRIGHT.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>