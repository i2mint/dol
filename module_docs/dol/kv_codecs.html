<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>dol.kv_codecs &mdash; dol 0.2.15 documentation</title><link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/toggleprompt.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="dol.misc" href="misc.html" />
    <link rel="prev" title="dol.filesys" href="filesys.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            dol
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../dol.html">dol</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendable.html">dol.appendable</a></li>
<li class="toctree-l1"><a class="reference internal" href="base.html">dol.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="caching.html">dol.caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="dig.html">dol.dig</a></li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">dol.errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="explicit.html">dol.explicit</a></li>
<li class="toctree-l1"><a class="reference internal" href="filesys.html">dol.filesys</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">dol.kv_codecs</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">dol.misc</a></li>
<li class="toctree-l1"><a class="reference internal" href="mixins.html">dol.mixins</a></li>
<li class="toctree-l1"><a class="reference internal" href="naming.html">dol.naming</a></li>
<li class="toctree-l1"><a class="reference internal" href="paths.html">dol.paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes.html">dol.recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap.html">dol.scrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/new_store_wrap.html">dol.scrap.new_store_wrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/store_factories.html">dol.scrap.store_factories</a></li>
<li class="toctree-l1"><a class="reference internal" href="signatures.html">dol.signatures</a></li>
<li class="toctree-l1"><a class="reference internal" href="sources.html">dol.sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/base_test.html">dol.tests.base_test</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/pickability_test.html">dol.tests.pickability_test</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/scrap.html">dol.tests.scrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_appendable.html">dol.tests.test_appendable</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_edge_cases.html">dol.tests.test_edge_cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_fanout_stores.html">dol.tests.test_fanout_stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_filesys.html">dol.tests.test_filesys</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_kv_codecs.html">dol.tests.test_kv_codecs</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_paths.html">dol.tests.test_paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/utils_for_tests.html">dol.tests.utils_for_tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">dol.tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="trans.html">dol.trans</a></li>
<li class="toctree-l1"><a class="reference internal" href="util.html">dol.util</a></li>
<li class="toctree-l1"><a class="reference internal" href="zipfiledol.html">dol.zipfiledol</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">dol</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">dol.kv_codecs</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/module_docs/dol/kv_codecs.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-dol.kv_codecs">
<span id="dol-kv-codecs"></span><h1>dol.kv_codecs<a class="headerlink" href="#module-dol.kv_codecs" title="Permalink to this headline">¶</a></h1>
<p>Tools to make Key-Value Codecs (encoder-decoder pairs) from standard library tools.</p>
<dl class="py class">
<dt id="dol.kv_codecs.KeyCodecs">
<em class="property">class </em><code class="sig-prename descclassname">dol.kv_codecs.</code><code class="sig-name descname">KeyCodecs</code><a class="reference internal" href="../../_modules/dol/kv_codecs.html#KeyCodecs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dol.kv_codecs.KeyCodecs" title="Permalink to this definition">¶</a></dt>
<dd><p>A collection of key codecs</p>
</dd></dl>

<dl class="py class">
<dt id="dol.kv_codecs.ValueCodecs">
<em class="property">class </em><code class="sig-prename descclassname">dol.kv_codecs.</code><code class="sig-name descname">ValueCodecs</code><a class="reference internal" href="../../_modules/dol/kv_codecs.html#ValueCodecs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dol.kv_codecs.ValueCodecs" title="Permalink to this definition">¶</a></dt>
<dd><p>A collection of value codecs using standard lib tools.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">json_codec</span> <span class="o">=</span> <span class="n">ValueCodecs</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">encoder</span><span class="p">,</span> <span class="n">decoder</span> <span class="o">=</span> <span class="n">json_codec</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">encoder</span><span class="p">({</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="go">&#39;{&quot;b&quot;: 2}&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decoder</span><span class="p">(</span><span class="s1">&#39;{&quot;b&quot;: 2}&#39;</span><span class="p">)</span>
<span class="go">{&#39;b&#39;: 2}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">backend</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">interface</span> <span class="o">=</span> <span class="n">json_codec</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">interface</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>  <span class="c1"># we write a dict</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">backend</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;{&quot;b&quot;: 2}&#39;</span><span class="p">}</span>  <span class="c1"># json was written in backend</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">interface</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>  <span class="c1"># but this json is decoded to a dict when read from interface</span>
<span class="go">{&#39;b&#39;: 2}</span>
</pre></div>
</div>
<dl class="py attribute">
<dt id="dol.kv_codecs.ValueCodecs.b64">
<code class="sig-name descname">b64</code><em class="property"> = &lt;module 'base64' from '/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/base64.py'&gt;</em><a class="headerlink" href="#dol.kv_codecs.ValueCodecs.b64" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="dol.kv_codecs.ValueCodecs.io">
<code class="sig-name descname">io</code><em class="property"> = &lt;module 'io' from '/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/io.py'&gt;</em><a class="headerlink" href="#dol.kv_codecs.ValueCodecs.io" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="dol.kv_codecs.ValueCodecs.methodcaller">
<em class="property">class </em><code class="sig-name descname">methodcaller</code><a class="headerlink" href="#dol.kv_codecs.ValueCodecs.methodcaller" title="Permalink to this definition">¶</a></dt>
<dd><p>methodcaller(name, …) –&gt; methodcaller object</p>
<p>Return a callable object that calls the given method on its operand.
After f = methodcaller(‘name’), the call f(r) returns r.name().
After g = methodcaller(‘name’, ‘date’, foo=1), the call g(r) returns
r.name(‘date’, foo=1).</p>
</dd></dl>

<dl class="py method">
<dt id="dol.kv_codecs.ValueCodecs.zip_compress">
<code class="sig-name descname">zip_compress</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">'some_bytes'</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">compression</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">allowZip64</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">compresslevel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">strict_timestamps</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">'utf-8'</span></em><span class="sig-paren">)</span> &#x2192; bytes<a class="headerlink" href="#dol.kv_codecs.ValueCodecs.zip_compress" title="Permalink to this definition">¶</a></dt>
<dd><p>Compress input bytes, returning the compressed bytes</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;x&#39;</span> <span class="o">*</span> <span class="mi">1000</span> <span class="o">+</span> <span class="sa">b</span><span class="s1">&#39;y&#39;</span> <span class="o">*</span> <span class="mi">1000</span>  <span class="c1"># 2000 (quite compressible) bytes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">2000</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zipped_bytes</span> <span class="o">=</span> <span class="n">zip_compress</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Compression details will be system dependent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">zipped_bytes</span><span class="p">)</span>  
<span class="go">137</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unzipped_bytes</span> <span class="o">=</span> <span class="n">zip_decompress</span><span class="p">(</span><span class="n">zipped_bytes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unzipped_bytes</span> <span class="o">==</span> <span class="n">b</span>  <span class="c1"># verify that unzipped bytes are the same as the original</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dol.zipfiledol</span> <span class="kn">import</span> <span class="n">compression_methods</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zipped_bytes</span> <span class="o">=</span> <span class="n">zip_compress</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="n">compression_methods</span><span class="p">[</span><span class="s1">&#39;bzip2&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Compression details will be system dependent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">zipped_bytes</span><span class="p">)</span>  
<span class="go">221</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unzipped_bytes</span> <span class="o">=</span> <span class="n">zip_decompress</span><span class="p">(</span><span class="n">zipped_bytes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unzipped_bytes</span> <span class="o">==</span> <span class="n">b</span>  <span class="c1"># verify that unzipped bytes are the same as the original</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dol.kv_codecs.ValueCodecs.zip_decompress">
<code class="sig-name descname">zip_decompress</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">allowZip64</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">compresslevel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">strict_timestamps</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; bytes<a class="headerlink" href="#dol.kv_codecs.ValueCodecs.zip_decompress" title="Permalink to this definition">¶</a></dt>
<dd><p>Decompress input bytes of a single file zip, returning the uncompressed bytes</p>
<p>See <code class="docutils literal notranslate"><span class="pre">zip_compress</span></code> for usage examples.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="dol.kv_codecs.csv_dict_decode">
<code class="sig-prename descclassname">dol.kv_codecs.</code><code class="sig-name descname">csv_dict_decode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">fieldnames</span></em>, <em class="sig-param"><span class="n">dialect</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'excel'</span></em>, <em class="sig-param"><span class="n">delimiter</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">','</span></em>, <em class="sig-param"><span class="n">quotechar</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">, </span>None<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'&quot;'</span></em>, <em class="sig-param"><span class="n">escapechar</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">, </span>None<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">doublequote</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">skipinitialspace</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">lineterminator</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'\r\n'</span></em>, <em class="sig-param"><span class="n">quoting</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">strict</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">restkey</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">restval</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">extrasaction</span><span class="o">=</span><span class="default_value">'raise'</span></em>, <em class="sig-param"><span class="n">fieldcasts</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/dol/kv_codecs.html#csv_dict_decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dol.kv_codecs.csv_dict_decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode a csv string into a list of dicts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string</strong> – The csv string to decode</p></li>
<li><p><strong>fieldcasts</strong> – A function that takes a row and returns a row with the same keys
but with values cast to the desired type. If a dict, it should be a mapping
from fieldnames to cast functions. If an iterable, it should be an iterable of
cast functions, in which case each cast function will be applied to each element
of the row, element wise.</p></li>
</ul>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">encoded</span> <span class="o">=</span> <span class="n">csv_dict_encode</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">encoded</span>
<span class="go">&#39;a,b\r\n1,2\r\n3,4\r\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csv_dict_decode</span><span class="p">(</span><span class="n">encoded</span><span class="p">)</span>
<span class="go">[{&#39;a&#39;: &#39;1&#39;, &#39;b&#39;: &#39;2&#39;}, {&#39;a&#39;: &#39;3&#39;, &#39;b&#39;: &#39;4&#39;}]</span>
</pre></div>
</div>
<p>See that you don’t get back when you started with. The ints aren’t ints anymore!
You can resolve this by using the fieldcasts argument
(that’s our argument – not present in builtin csv module).
I should be a function (that transforms a dict to the one you want) or
list or tuple of the same size as the row (that specifies the cast function for
each field)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">csv_dict_decode</span><span class="p">(</span><span class="n">encoded</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">fieldcasts</span><span class="o">=</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[{&#39;a&#39;: 1, &#39;b&#39;: 2}, {&#39;a&#39;: 3, &#39;b&#39;: 4}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csv_dict_decode</span><span class="p">(</span><span class="n">encoded</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">fieldcasts</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">})</span>
<span class="go">[{&#39;a&#39;: &#39;1&#39;, &#39;b&#39;: 2.0}, {&#39;a&#39;: &#39;3&#39;, &#39;b&#39;: 4.0}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="dol.kv_codecs.csv_dict_encode">
<code class="sig-prename descclassname">dol.kv_codecs.</code><code class="sig-name descname">csv_dict_encode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">fieldnames</span></em>, <em class="sig-param"><span class="n">dialect</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'excel'</span></em>, <em class="sig-param"><span class="n">delimiter</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">','</span></em>, <em class="sig-param"><span class="n">quotechar</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">, </span>None<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'&quot;'</span></em>, <em class="sig-param"><span class="n">escapechar</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">, </span>None<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">doublequote</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">skipinitialspace</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">lineterminator</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'\r\n'</span></em>, <em class="sig-param"><span class="n">quoting</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">strict</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">restkey</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">restval</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">extrasaction</span><span class="o">=</span><span class="default_value">'raise'</span></em>, <em class="sig-param"><span class="n">fieldcasts</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/dol/kv_codecs.html#csv_dict_encode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dol.kv_codecs.csv_dict_encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode a list of dicts into a csv string.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">encoded</span> <span class="o">=</span> <span class="n">csv_dict_encode</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">encoded</span>
<span class="go">&#39;a,b\r\n1,2\r\n3,4\r\n&#39;</span>
</pre></div>
</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="filesys.html" class="btn btn-neutral float-left" title="dol.filesys" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="misc.html" class="btn btn-neutral float-right" title="dol.misc" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright NO COPYRIGHT.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>